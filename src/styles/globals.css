@tailwind base;
@tailwind components;
@tailwind utilities;

/* iOS Fonts */
@font-face {
  font-family: 'SF Pro Display';
  src: url('https://applesocial.s3.amazonaws.com/assets/styles/fonts/sanfrancisco/sanfranciscodisplay-regular-webfont.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'SF Pro Display';
  src: url('https://applesocial.s3.amazonaws.com/assets/styles/fonts/sanfrancisco/sanfranciscodisplay-medium-webfont.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'SF Pro Display';
  src: url('https://applesocial.s3.amazonaws.com/assets/styles/fonts/sanfrancisco/sanfranciscodisplay-semibold-webfont.woff2') format('woff2');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

/* Base styles */
@layer base {
  html {
    @apply antialiased;
    -webkit-tap-highlight-color: transparent;
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-ios-background-primary text-ios-label-primary font-sf-pro text-base leading-relaxed;
    overscroll-behavior-y: none;
    -webkit-overflow-scrolling: touch;
  }

  /* iOS-like scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-ios-gray-4 rounded-full;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  /* iOS-like selection */
  ::selection {
    @apply bg-ios-blue bg-opacity-20 text-ios-blue;
  }
}

/* Components */
@layer components {
  /* iOS-like buttons */
  .btn {
    @apply inline-flex items-center justify-center rounded-ios px-4 py-2 text-center font-medium transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ios-blue disabled:opacity-60 disabled:pointer-events-none;
  }

  .btn-primary {
    @apply bg-ios-blue text-white hover:bg-opacity-90 focus:ring-ios-blue/50;
  }

  .btn-secondary {
    @apply bg-ios-gray-5 text-ios-label-primary hover:bg-opacity-80 focus:ring-ios-gray-4/50;
  }

  .btn-outline {
    @apply border border-ios-gray-4 bg-transparent hover:bg-ios-gray-6 focus:ring-ios-gray-4/50;
  }

  /* iOS-like cards */
  .card {
    @apply bg-ios-background-primary rounded-ios shadow-ios overflow-hidden transition-all duration-200 ease-in-out;
  }

  .card-hover {
    @apply hover:shadow-ios-md transform hover:-translate-y-0.5;
  }

  /* iOS-like inputs */
  .input {
    @apply w-full rounded-ios border border-ios-gray-4 bg-ios-background-primary px-4 py-3 text-ios-label-primary placeholder-ios-label-tertiary focus:border-ios-blue focus:ring-2 focus:ring-ios-blue/20 focus:outline-none transition-colors duration-200 ease-in-out;
  }

  /* iOS-like badges */
  .badge {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium;
  }

  .badge-primary {
    @apply bg-ios-blue/10 text-ios-blue;
  }

  .badge-secondary {
    @apply bg-ios-gray-5 text-ios-label-secondary;
  }

  /* iOS-like section headers */
  .section-header {
    @apply text-sm font-medium text-ios-label-secondary uppercase tracking-wider mb-3 px-4;
  }

  /* iOS-like list items */
  .list-item {
    @apply flex items-center justify-between px-4 py-3 bg-ios-background-primary border-b border-ios-gray-5 last:border-0 transition-colors duration-200 ease-in-out active:bg-ios-gray-6;
  }

  /* iOS-like modal */
  .modal-overlay {
    @apply fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-center justify-center p-4;
  }

  .modal-content {
    @apply bg-ios-background-primary rounded-ios-lg w-full max-w-md max-h-[90vh] overflow-y-auto shadow-ios-xl animate-scale-in;
  }

  /* iOS-like sheet */
  .sheet-overlay {
    @apply fixed inset-0 bg-black/40 backdrop-blur-sm z-50 flex items-end justify-center;
  }

  .sheet-content {
    @apply bg-ios-background-tertiary rounded-t-2xl w-full max-w-lg mx-auto shadow-ios-2xl animate-slide-up;
  }

  /* iOS-like toast */
  .toast {
    @apply bg-ios-label-primary text-white px-4 py-3 rounded-ios shadow-ios-lg flex items-center space-x-3;
  }
}

/* Animations */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeOut {
  from { opacity: 1; }
  to { opacity: 0; }
}

@keyframes slideUp {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes slideDown {
  from { transform: translateY(0); opacity: 1; }
  to { transform: translateY(20px); opacity: 0; }
}

@keyframes scaleIn {
  from { transform: scale(0.95); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

@keyframes scaleOut {
  from { transform: scale(1); opacity: 1; }
  to { transform: scale(0.95); opacity: 0; }
}

/* Custom scrollbar for webkit */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* iOS-like haptic feedback */
.haptic-feedback {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.haptic-feedback:active {
  opacity: 0.7;
  transition: opacity 0.2s ease-in-out;
}

/* iOS-like blur effects */
.backdrop-blur-ios {
  backdrop-filter: saturate(180%) blur(20px);
  -webkit-backdrop-filter: saturate(180%) blur(20px);
}

/* iOS-like text styles */
.text-large-title {
  @apply text-3xl font-semibold tracking-tight;
}

.text-title-1 {
  @apply text-2xl font-semibold tracking-tight;
}

.text-title-2 {
  @apply text-xl font-semibold tracking-tight;
}

.text-title-3 {
  @apply text-lg font-semibold tracking-tight;
}

.text-headline {
  @apply text-base font-semibold;
}

.text-subheadline {
  @apply text-sm font-medium text-ios-label-secondary;
}

.text-caption-1 {
  @apply text-sm text-ios-label-secondary;
}

.text-caption-2 {
  @apply text-xs text-ios-label-tertiary;
}
